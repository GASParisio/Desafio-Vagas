<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel de Vagas</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="estilo.css">
    
    <style>
        /* Ajustes espec√≠ficos para o Painel Interno */
        .navbar-sistema {
            background-color: #212529; 
            box-shadow: 0 2px 10px rgba(0,0,0,0.15);
            padding: 1rem 0;
        }

        #admin-panel {
            display: none; 
            background: #fff;
            border: none;
            border-left: 5px solid #0d6efd; 
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }

        .badge {
            font-weight: 500;
            padding: 0.5em 0.8em;
        }
    </style>
</head>

<body class="bg-light">

    <nav class="navbar navbar-sistema navbar-dark mb-4">
        <div class="container">
            <span class="navbar-brand mb-0 h1 fw-bold"><i class="bi bi-briefcase-fill"></i> Sistema de Vagas</span>
            <div class="d-flex align-items-center gap-3">
                <div class="text-end d-none d-md-block">
                    <small class="text-white-50 d-block" style="font-size: 0.75rem;">LOGADO COMO</small>
                    <span id="user-email" class="text-white fw-bold">Carregando...</span>
                </div>
                <button id="btn-logout" class="btn btn-outline-light btn-sm px-3">Sair</button>
            </div>
        </div>
    </nav>

    <div class="container">

        <div id="admin-panel" class="card mb-5">
            <div class="card-body p-4">
                <div class="d-flex align-items-center mb-4">
                    <div class="bg-primary text-white rounded-circle p-2 me-2 d-flex align-items-center justify-content-center" style="width: 40px; height: 40px;">
                        <i class="bi bi-shield-lock-fill"></i>
                    </div>
                    <h5 class="card-title mb-0 fw-bold text-primary">√Årea do Recrutador</h5>
                </div>
                
                <form id="form-nova-vaga" class="row g-3">
                    <div class="col-md-3">
                        <label class="form-label small text-muted fw-bold">T√çTULO DA VAGA</label>
                        <input type="text" id="titulo" class="form-control" placeholder="Ex: Dev Front-end" required>
                    </div>

                    <div class="col-md-2">
                        <label class="form-label small text-muted fw-bold">SAL√ÅRIO (R$)</label>
                        <input type="number" id="salario" class="form-control" placeholder="0.00" step="0.01">
                    </div>

                    <div class="col-md-3">
                        <label class="form-label small text-muted fw-bold">MODELO</label>
                        <select id="modalidade" class="form-select">
                            <option value="Remoto" selected>üè† Remoto</option>
                            <option value="Hibrido">üè¢ H√≠brido</option>
                            <option value="Presencial">üìç Presencial</option>
                        </select>
                    </div>

                    <div class="col-md-2">
                        <label class="form-label small text-muted fw-bold">DESCRI√á√ÉO CURTA</label>
                        <input type="text" id="descricao" class="form-control" placeholder="Resumo..." required>
                    </div>

                    <div class="col-md-2 d-flex align-items-end">
                        <button type="submit" class="btn btn-primary w-100 fw-bold"><i class="bi bi-plus-lg"></i> Publicar</button>
                    </div>
                </form>
            </div>
        </div>

        <div class="d-flex align-items-center justify-content-between mb-4">
            <h3 class="fw-bold text-dark">Vagas Dispon√≠veis</h3>
            <span class="badge bg-white text-secondary border shadow-sm">Atualizado agora</span>
        </div>

        <div id="lista-vagas" class="row">
            <p class="text-center text-muted py-5">Carregando oportunidades...</p>
        </div>
    </div>

    <div class="modal fade" id="modalEdicao" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content border-0 shadow-lg">
                <div class="modal-header bg-warning text-dark border-0">
                    <h5 class="modal-title fw-bold"><i class="bi bi-pencil-square"></i> Editar Vaga</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body p-4">
                    <form id="form-editar-vaga">
                        <input type="hidden" id="edit-id">
                        <div class="mb-3">
                            <label class="form-label small fw-bold text-muted">T√≠tulo</label>
                            <input type="text" id="edit-titulo" class="form-control" required>
                        </div>

                        <div class="mb-3">
                            <label class="form-label small fw-bold text-muted">Sal√°rio (R$)</label>
                            <input type="number" id="edit-salario" class="form-control" step="0.01">
                        </div>

                        <div class="mb-3">
                            <label class="form-label small fw-bold text-muted">Modalidade</label>
                            <select id="edit-modalidade" class="form-select">
                                <option value="Remoto">Remoto</option>
                                <option value="Hibrido">H√≠brido</option>
                                <option value="Presencial">Presencial</option>
                            </select>
                        </div>

                        <div class="mb-3">
                            <label class="form-label small fw-bold text-muted">Descri√ß√£o</label>
                            <textarea id="edit-descricao" class="form-control" rows="3" required></textarea>
                        </div>

                        <button type="submit" class="btn btn-warning w-100 fw-bold">Salvar Altera√ß√µes</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="modalCandidatos" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-scrollable">
            <div class="modal-content border-0 shadow-lg">
                <div class="modal-header bg-primary text-white border-0">
                    <h5 class="modal-title fw-bold"><i class="bi bi-people-fill"></i> Candidatos Interessados</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body bg-light">
                    <ul id="lista-candidatos" class="list-group list-group-flush rounded shadow-sm">
                        <p class="text-center text-muted py-3">Carregando...</p>
                    </ul>
                </div>
            </div>
        </div>
    </div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="app.js"></script> 
</body>
</html>